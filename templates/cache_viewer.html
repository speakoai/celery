{% extends "base.html" %}

{% block content %}
  <h2>Redis Cache Viewer</h2>

  <!-- Always show the form -->
  <form method="get">
    <label>Tenant ID:
      <input type="text" name="tenant_id" value="{{ tenant_id }}">
    </label>
    <br>
    <label>Location ID:
      <input type="text" name="location_id" value="{{ location_id }}">
    </label>
    <br>
    <label>Start Date (optional):
      <input type="date" name="start_date" value="{{ start_date }}">
    </label>
    <br>
    <button type="submit">Fetch</button>
  </form>

  <!-- Conditionally show result if key was built -->
  {% if key %}
    <p><strong>Key:</strong> {{ key }}</p>
  {% endif %}

  {% if value %}
    <h3>Cached Value</h3>
    <pre>{{ value | safe }}</pre>
  {% elif tenant_id and location_id %}
    <p><em>No value found for the given key.</em></p>
  {% endif %}
{% endblock %}
